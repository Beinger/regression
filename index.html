<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="js/jquery3.3.1.min.js"></script>
    <!-- <script src="js/vue.min.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.js"></script>
    <link rel="stylesheet" href="css/css/bootstrap.css">
    <link rel="stylesheet" href="css/css/animation.min.css">
    <link rel="stylesheet" href="css/css/font-awesome.min.css">
    <script src="js/bootstarp.js"></script>
    <script src="js/highcharts.js"></script>
    <script src="js/highcharts_zh.js"></script>
    <script src="js/myStorage.min.js"></script>
    <script src="js/webSQL.js"></script>
    <script src="https://cdn.bootcss.com/store.js/1.3.20/store.min.js"></script>
    <title>标准回归</title>
</head>

<body>
    <style>
        .threed {
            text-shadow: 0px 1px 0px #999, 1px 2px 1px #888, 2px 3px 2px #777, 3px 4px 3px #666, 4px 5px 4px #555, 5px 6px 5px #444, 6px 7px 6px #333, 7px 8px 7px #222, 8px 9px 8px #111
        }
    </style>

    <div class="container">
        <div id="root">
            <div class="jumbotron row">
                <div onclick="focus_move()" class="col-xs-9 col-lg-10 col-md-10 col-sm-10">
                    <h2 data-toggle="modal" data-target="#login" v-text="company"></h2>
                    <h1 style="color:gainsboro" class="threed">水质检验回归分析系统</h1>
                </div>
                <div class="col-xs-3 col-lg-2 col-md-2 col-sm-2">
                    <a class="btn btn-defult btn-lg" data-toggle="modal" data-target="#login" v-if="login_f">
                        <i class="fa fa-sign-in"></i>机构信息登记
                    </a>
                    <a class="btn btn-defult btn-lg" data-toggle="modal" data-target="#environment" v-else>
                        <i class="fa fa-thermometer-empty"></i>实验环境记录
                    </a>
                    <a class="btn btn-lg text-warning" href="sample.html"><i class="fa fa-book"></i>查看检验报告</a>
                    <div class="modal fade" id="environment" tabindex="-1" role="dialog" aria-labelledby="myEnv"
                        aria-hidden="true">
                        <div class="modal-dialog">
                            <div class='modal-content'>
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                    <h4 class="modal-title" id="myEnv">实验室环境</h4>
                                </div>
                                <div class="modal-body form-group">
                                    <label class="form-label">实验室温度(℃)</label>
                                    <input type="number" v-model.number="T">℃
                                    <label calss="form-label">实验室湿度(%)</label>
                                    <input tabindex="0" type="number" v-model.number="H">%
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-primary" tabindex="0" @click="login_env()"
                                        data-dismiss="modal">确认</button>
                                </div>
                            </div><!-- /.modal-content -->
                        </div><!-- /.modal -->
                    </div>
                    <div class="modal fade" id="login" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
                        aria-hidden="true">
                        <div class="modal-dialog">
                            <div class='modal-content'>
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                    <h4 class="modal-title" id="myModalLabel">注册</h4>
                                </div>
                                <div class="modal-body form-group">
                                    <label for="" class="form-label">单位名称
                                        <input class="form-control" type="text" v-model="company"></label>
                                    <label class="form-label">机构代号
                                        <input type="text" class="form-control" v-model="numbering"></label>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                                    <button type="button" class="btn btn-primary" @click="login_s" data-dismiss="modal">保存</button>
                                </div>
                            </div><!-- /.modal-content -->
                        </div><!-- /.modal -->
                    </div>
                </div>
            </div>

            <div class="row form-group">
                <div class="col-lg-3 col-md-3 col-sm-4 col-xs-4">
                    <label class="form-label">
                        <span>感官性状</span>
                        <a class="btn btn-default" data-toggle="modal" data-target="#opt3">
                            <i class="fa fa-plus">增加或修改</i>
                        </a>
                    </label>
                    <select tabindex="-1" class="form-control input-lg" v-model="selected3">
                        <option style="font-size: 80%" disabled>---请选择---</option>
                        <option v-bind:id="'select3'+index" v-bind:value="item" v-for="(item,index) in names3" v-text="item.name"></option>
                    </select>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-4 col-xs-4">
                    <label class="form-label">
                        <span>滴定法</span>
                        <a class="btn btn-default" data-toggle="modal" data-target="#opt2">
                            <i class="fa fa-plus">增加或修改</i>
                        </a>
                    </label>
                    <select tabindex="-1" class="form-control input-lg" v-model="selected2">
                        <option style="font-size: 80%" disabled>---请选择---</option>
                        <option v-bind:id="'select2'+index" v-bind:value="item" v-for="(item,index) in names2" v-text="item.name"></option>
                    </select>
                </div>
                <div class="col-lg-3 col-md-4 col-sm-4 col-xs-4">
                    <label calss="form-label">
                        <span>比色法</span>
                        <a class="btn btn-default" data-toggle="modal" data-target="#opt">
                            <i class="fa fa-plus">增加或修改</i>
                        </a>
                    </label>
                    <select tabindex="-1" class="form-control input-lg" v-model="selected">
                        <option style="font-size: 80%" disabled>---请选择---</option>
                        <option v-bind:id="'select'+index" v-bind:value="item" v-for="(item,index) in names" v-text="item.name"></option>
                    </select>
                </div>
            </div>
            <div>
                <div class="modal fade" id="opt3" tabindex="-1" role="dialog" aria-labelledby="myOpt3" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class='modal-content'>
                            <h3 @click="add_edit=!add_edit" class="btn form-control text-info">点击切换</h3>
                            <ol class="nav">
                                <li v-if="add_edit">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                    </div>
                                    <div class="modal-body form-group">
                                        <p class="text-center">
                                            增加新项目
                                        </p>
                                        <label class="form-label">项目名称：</label>
                                        <input type="text" class="form-control" v-model="new_opt3.name">
                                        <label class="form-label">单位：</label>
                                        <input type="text" class="form-control" v-model="new_opt3.unit">
                                        <label class="form-label">检验依据：</label>
                                        <input type="text" class="form-control" v-model="new_opt3.GB">
                                        <label class="form-label">检验方法：</label>
                                        <input type="text" class="form-control" v-model="new_opt3.method">
                                        <label class="form-label">检测仪器：</label>
                                        <input type="text" class="form-control" v-model="new_opt3.instrument_model">
                                        <label class="form-label">最小检出限：</label>
                                        <input type="text" class="form-control" v-model="new_opt3.limit">
                                        <label class="form-label">最高限值：</label>
                                        <input type="text" class="form-control" v-model="new_opt3.range_max">
                                        <label class="form-label">最低限值：</label>
                                        <input type="text" placeholder="如果没有最低限值，请忽略" class="form-control" v-model="new_opt3.range_min">
                                    </div>
                                    <div class="modal-footer">
                                        <button class="btn btn-info" data-dismiss="modal">关闭</button>
                                        <button type="button" class="btn btn-primary" @click="save_opt(new_opt3)" data-dismiss="modal">确认增加</button>
                                    </div>
                                </li>
                                <li v-if="!add_edit">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                    </div>
                                    <div class="modal-body form-group">
                                        <p class="text-center">
                                            修改项目参数
                                        </p>
                                        <label class="form-label">项目名称：</label>
                                        <select tabindex="-1" class="form-control" v-model="slt3">
                                            <option style="font-size: 80%" disabled>---请选择---</option>
                                            <option v-bind:id="'select3'+index" v-bind:value="item" v-for="(item,index) in names3"
                                                v-text="item.name"></option>
                                        </select>
                                        <label class="form-label">单位：</label>
                                        <input type="text" class="form-control" v-model="slt3.unit">
                                        <label class="form-label">检验依据：</label>
                                        <input type="text" class="form-control" v-model="slt3.GB">
                                        <label class="form-label">检验方法：</label>
                                        <input type="text" class="form-control" v-model="slt3.method">
                                        <label class="form-label">检测仪器：</label>
                                        <input type="text" class="form-control" v-model="slt3.instrument_model">
                                        <label class="form-label">最小检出限：</label>
                                        <input type="text" class="form-control" v-model="slt3.limit">
                                        <label class="form-label">最高限值：</label>
                                        <input type="text" class="form-control" v-model="slt3.range_max">
                                        <label class="form-label">最低限值：</label>
                                        <input placeholder="如果没有最低限值，请忽略" type="text" class="form-control" v-model="slt3.range_min">
                                    </div>
                                    <div class="modal-footer">
                                        <button class="btn btn-info" data-dismiss="modal">关闭</button>
                                        <button type="button" class="btn btn-primary" @click="save_opt(slt3)"　data-dismiss="modal">提交更改</button>
                                    </div>
                                </li>
                            </ol>
                        </div>
                    </div><!-- /.modal-content -->
                </div><!-- /.modal -->
                <div class="modal fade" id="opt2" tabindex="-1" role="dialog" aria-labelledby="myOpt2" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class='modal-content'>
                            <h3 @click="add_edit=!add_edit" class="btn form-control text-info">点击切换</h3>
                            <ol class="nav">
                                <li v-if="add_edit">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                    </div>
                                    <div class="modal-body form-group">
                                        <p class="text-center">
                                            增加新项目
                                        </p>
                                        <label class="form-label">项目名称：</label>
                                        <input type="text" class="form-control" v-model="new_opt2.name">
                                        <label class="form-label">单位：</label>
                                        <input type="text" class="form-control" v-model="new_opt2.unit">
                                        <label class="form-label">检验依据：</label>
                                        <input type="text" class="form-control" v-model="new_opt2.GB">
                                        <label class="form-label">检验方法：</label>
                                        <input type="text" class="form-control" v-model="new_opt2.method">
                                        <label class="form-label">检测仪器：</label>
                                        <input type="text" class="form-control" v-model="new_opt2.instrument_model">
                                        <label class="form-label">最小检出限：</label>
                                        <input type="text" class="form-control" v-model="new_opt2.limit">
                                        <label class="form-label">最高限值：</label>
                                        <input type="text" class="form-control" v-model="new_opt2.range_max">
                                        <label class="form-label">最低限值：</label>
                                        <input type="text" placeholder="如果没有最低限值，请忽略" class="form-control" v-model="new_opt2.range_min">
                                    </div>
                                    <div class="modal-footer">
                                        <button class="btn btn-info" data-dismiss="modal">关闭</button>
                                        <button type="button" class="btn btn-primary" @click="save_opt(new_opt2)" data-dismiss="modal">确认增加</button>
                                    </div>
                                </li>
                                <li v-if="!add_edit">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                    </div>
                                    <div class="modal-body form-group">
                                        <p class="text-center">
                                            修改项目参数
                                        </p>
                                        <label class="form-label">项目名称：</label>
                                        <select tabindex="-1" class="form-control" v-model="slt2">
                                            <option style="font-size: 80%" disabled>---请选择---</option>
                                            <option v-bind:id="'select2'+index" v-bind:value="item" v-for="(item,index) in names2"
                                                v-text="item.name"></option>
                                        </select>
                                        <label class="form-label">单位：</label>
                                        <input type="text" class="form-control" v-model="slt2.unit">
                                        <label class="form-label">检验依据：</label>
                                        <input type="text" class="form-control" v-model="slt2.GB">
                                        <label class="form-label">检验方法：</label>
                                        <input type="text" class="form-control" v-model="slt2.method">
                                        <label class="form-label">检测仪器：</label>
                                        <input type="text" class="form-control" v-model="slt2.instrument_model">
                                        <label class="form-label">最小检出限：</label>
                                        <input type="text" class="form-control" v-model="slt2.limit">
                                        <label class="form-label">最高限值：</label>
                                        <input type="text" class="form-control" v-model="slt2.range_max">
                                        <label class="form-label">最低限值：</label>
                                        <input placeholder="如果没有最低限值，请忽略" type="text" class="form-control" v-model="slt2.range_min">
                                    </div>
                                    <div class="modal-footer">
                                        <button class="btn btn-info" data-dismiss="modal">关闭</button>
                                        <button type="button" class="btn btn-primary" @click="save_opt(slt2)" data-dismiss="modal">提交更改</button>
                                    </div>
                                </li>
                            </ol>
                        </div>
                    </div><!-- /.modal-content -->
                </div><!-- /.modal -->
                <div class="modal fade" id="opt" tabindex="-1" role="dialog" aria-labelledby="myOpt" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class='modal-content'>
                            <h3 @click="add_edit=!add_edit" class="btn form-control text-info">点击切换</h3>
                            <ol class="nav">
                                <li v-if="add_edit">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                    </div>
                                    <div class="modal-body form-group">
                                        <p class="text-center">
                                            增加新项目
                                        </p>
                                        <label class="form-label">项目名称：</label>
                                        <input type="text" class="form-control" v-model="new_opt.name">
                                        <label class="form-label">单位：</label>
                                        <input type="text" class="form-control" v-model="new_opt.unit">
                                        <label class="form-label">检验依据：</label>
                                        <input type="text" class="form-control" v-model="new_opt.GB">
                                        <label class="form-label">检验方法：</label>
                                        <input type="text" class="form-control" v-model="new_opt.method">
                                        <label class="form-label">检测仪器：</label>
                                        <input type="text" class="form-control" v-model="new_opt.instrument_model">
                                        <label class="form-label">最小检出限：</label>
                                        <input type="text" class="form-control" v-model="new_opt.limit">
                                        <label class="form-label">最高限值：</label>
                                        <input type="text" class="form-control" v-model="new_opt.range_max">
                                        <label class="form-label">最低限值：</label>
                                        <input type="text" placeholder="如果没有最低限值，请忽略" class="form-control" v-model="new_opt.range_min">
                                    </div>
                                    <div class="modal-footer">
                                        <button class="btn btn-info" data-dismiss="modal">关闭</button>
                                        <button type="button" class="btn btn-primary" @click="save_opt(new_opt)"> data-dismiss="modal"确认增加</button>
                                    </div>
                                </li>
                                <li v-if="!add_edit">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                    </div>
                                    <div class="modal-body form-group">
                                        <p class="text-center">
                                            修改项目参数
                                        </p>
                                        <label class="form-label">项目名称：</label>
                                        <select tabindex="-1" class="form-control" v-model="slt">
                                            <option style="font-size: 80%" disabled>---请选择---</option>
                                            <option v-bind:id="'select1'+index" v-bind:value="item" v-for="(item,index) in names"
                                                v-text="item.name"></option>
                                        </select>
                                        <label class="form-label">单位：</label>
                                        <input type="text" class="form-control" v-model="slt.unit">
                                        <label class="form-label">检验依据：</label>
                                        <input type="text" class="form-control" v-model="slt.GB">
                                        <label class="form-label">检验方法：</label>
                                        <input type="text" class="form-control" v-model="slt.method">
                                        <label class="form-label">检测仪器：</label>
                                        <input type="text" class="form-control" v-model="slt.instrument_model">
                                        <label class="form-label">最小检出限：</label>
                                        <input type="text" class="form-control" v-model="slt.limit">
                                        <label class="form-label">最高限值：</label>
                                        <input type="text" class="form-control" v-model="slt.range_max">
                                        <label class="form-label">最低限值：</label>
                                        <input placeholder="没有最低限值，请忽略" type="text" class="form-control" v-model="slt.range_min">
                                    </div>
                                    <div class="modal-footer">
                                        <button class="btn btn-info" data-dismiss="modal">关闭</button>
                                        <button type="button" class="btn btn-primary" @click="save_opt(slt)" data-dismiss="modal">提交更改</button>
                                    </div>
                                </li>
                            </ol>
                        </div>
                    </div><!-- /.modal-content -->
                </div><!-- /.modal -->
                <div class="col-lg-3 col-md-2 col-sm-12 col-xs-12 text-right">
                    <i class="fa fa-calendar"></i>{{ dateFormat(new Date()) }}
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6" v-if="show">
                    <table class="animated fadeInUp table table-hover table-bordered text-center table-striped"
                        v-bind:id="selected.id">
                        <thead>
                            <tr>
                                <th class="text-center">序号</th>
                                <th class="text-center">标准加入量(μg)</th>
                                <th class="text-center">吸光度</th>
                                <th class="btn text-info">
                                    <i @click="add_item(selected.id)" title="增加序列" class="fa fa-plus">增加</i>
                                </th>
                                <th class="btn text-info">
                                    <i @click="get_list()" title="保存" class="fa fa-save">保存</i>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr v-for="(item, index) in selected.standard_series" :key="index">
                                <td v-text="index+1"></td>
                                <td contenteditable="true" v-bind:id="'v'+index" v-text="item[0]"></td>
                                <td contenteditable="true" v-bind:id="'a'+index" v-text="item[1]"></td>
                                <td colspan="2" @click="del(index)" title="删除" class="btn text-danger text-center"><i
                                        class="fa fa-trash"></i></td>
                            </tr>
                        </tbody>
                        <caption>
                            <h4>水中<span v-text="selected.name"></span>的标准系列 </h4>
                        </caption>
                    </table>
                </div>
                <div class="col-lg-6" v-show="show">
                    <div id="line" style="box-shadow:5px 5px 4px"></div>
                </div>
            </div>
            <form v-if="show">
                <div class="row">
                    <div class="col-lg-5">
                        <fieldset>
                            <legend><span v-text="selected.name"></span>的回归公式</legend>
                            <h4 v-html="selected.formula"></h4>
                            <span class="text-danger animated bounceIn infinite" v-if="selected.r<0.999">------注意：相关系数若小于0.999，说明标准曲线不合格，请重新核对数据，分析检测过程，必要时重新测定标准系列。</span>
                            <div>
                                <a class="btn btn-default" @click="add_sample(selected)">
                                    <i class="fa fa-hand-o-right fa-2x"></i><i class="fa fa-pencil"></i>
                                    开始录入
                                    <i>样品编号{{numbering+(new Date()).getFullYear()}}水第
                                        <input v-if="selected.judge==true" tabindex="11" type="number" v-model="selected.start">
                                        <input v-else-if="selected.judge==false" type="number" v-model="selected.end">
                                        号
                                    </i>
                                </a>
                            </div>
                        </fieldset>
                    </div>
                    <div class="col-lg-7">
                        <fieldset v-if="add" class="animated fadeInRight">
                            <legend>样品中 <span v-text="selected.name"></span> 浓度计算</legend>
                            <table class="table table-hover table-bordered table-striped">
                                <tr>
                                    <th class="text-center">样品编号</th>
                                    <th class="text-center">加样体积(ml)</th>
                                    <th class="text-center">吸光度</th>
                                </tr>
                                <tr class="text-center">
                                    <td>
                                        <i>{{numbering+(new Date()).getFullYear()}}水第<span v-text="f_n(selected.start,3)"></span>号</i>
                                    </td>
                                    <td>
                                        <select class="form-control" v-model="selected.result.v">
                                            <option v-bind:value="opt" v-for="opt of vol_select" v-text="opt">
                                            </option>
                                        </select>
                                    </td>
                                    <td>
                                        <input class="form-control animated bounceInRight" type="number" tabindex="0"
                                            placeholder="输入后直接回车" v-model="selected.result.a">
                                    </td>
                                    <td v-show="submit_show">
                                        <button class="btn" tabindex="0" @click="work(selected)">提交</button>
                                    </td>
                                </tr>
                            </table>
                        </fieldset>
                    </div>
                </div>

                <a class="btn text-danger" @click="printContent('print')"><i class="fa fa-print"></i>打印记录</a>
                <div id="print">
                    <div @click="date_y()" class="text-center" colspan="5">
                        <h1 v-text="company"></h1>
                        <h3 title="点击这里可以查看每个样品的检测日期"><i>水样中<span v-text="selected.name"></span>检验记录</i></h3>
                    </div>
                    <table class="table table-bordered table-striped table-hover">
                        <tr>
                            <td class="text-center">样品名称：</td>
                            <td style="padding: 0px;">
                                <select style="border:0px; height: 2.4em; width: auto; outline:none; cursor: pointer;">
                                    <option value="井水">井水</option>
                                    <option value="泉水">泉水</option>
                                    <option value="河水">河水</option>
                                    <option value="溪水">溪水</option>
                                    <option value="自来水">自来水</option>
                                </select>
                            </td>
                            <td class="text-center">样品量：</td>
                            <td colspan="2" contenteditable="true">3升</td>
                        </tr>
                        <tr>
                            <td class="text-center">收样日期：</td>
                            <td contenteditable="true" v-text="recived_date"></td>
                            <td class="text-center">检验日期：</td>
                            <td colspan="2" contenteditable="true" v-text="test_date"></td>
                        </tr>
                        <tr>
                            <td class="text-center">样品性状：</td>
                            <td contenteditable="true">液态</td>
                            <td class="text-center">检测环境：</td>
                            <td contenteditable="true">
                                温度<span v-text="T"></span> ℃
                            </td>
                            <td contenteditable="true">
                                湿度
                                <span v-text="H"></span>% RH
                            </td>
                        </tr>
                        <tr>
                            <td class="text-center">检测仪器：</td>
                            <td v-text="selected.instrument_model">
                            </td>
                            <td class="text-center">检验依据：</td>
                            <td colspan="2" v-text="selected.GB">
                            </td>
                        </tr>
                        <tr>
                            <td class="text-center">检测方法：</td>
                            <td colspan="5" contenteditable="true" v-text="selected.method"></td>
                        </tr>
                    </table>
                    <table @click="mystorages(selected)" class="table table-bordered table-striped table-hover" id="record">
                        <thead>
                            <tr>
                                <th class="text-center">样品编号</th>
                                <th class="text-center">加样量(ml)</th>
                                <th class="text-center">吸光度</th>
                                <th class="text-center">实测质量(μg)</th>
                                <th class="text-center">样品浓度(mg/L)</th>
                                <th class="text-center">报告结果(mg/L)</th>
                                <th v-show="date_show" class="text-center">计量单位</th>
                                <th v-show="date_show" class="text-center">参考范围(mg/L)</th>
                                <th v-show="date_show" class="text-center">结果评价</th>
                                <th v-show="date_show" class="text-center">记录日期</th>
                            </tr>
                        </thead>
                        <tbody class="text-center">
                            <tr v-for="(item, index) in selected.st" :key="index">
                                <td>{{numbering+(new Date()).getFullYear()}}水第<span v-text="f_n(item.id, 3)"></span>号</td>
                                <td v-text="item.v"></td>
                                <td v-text="item.a"></td>
                                <td v-text="item.m"></td>
                                <td v-text="item.c"></td>
                                <td v-if="item.c<selected.limit" v-text="'<'+selected.limit"></td>
                                <td v-else v-text="item.c"></td>
                                <td v-show="date_show" v-text="item.unit"></td>
                                <td v-show="date_show" v-text="item.range"></td>
                                <td v-show="date_show" v-text="item.assessment"></td>
                                <td v-show="date_show" v-text="item.date"></td>
                            </tr>
                        </tbody>
                    </table>
                    <br><br>
                    <div class="row text-center">
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">检验者：</div>
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">审核者：</div>
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">日期：
                            <span v-text="dateFormat(new Date())"></span>
                        </div>
                    </div>
                </div>
            </form>
            <form v-if="show2">
                <div class="row">
                    <div class="col-lg-5">
                        <fieldset>
                            <div>
                                <a class="btn btn-default" @click="add_sample(selected2)">
                                    <i class="fa fa-hand-o-right fa-2x"></i><i class="fa fa-pencil"></i>
                                    开始录入
                                    <i>样品编号{{numbering+(new Date()).getFullYear()}}水第
                                        <input v-if="selected2.judge" tabindex="-1" type="number" v-model.number="selected2.start">
                                        <input v-else tabindex="-1" type="number" v-model.number="selected2.end"> 号
                                    </i>
                                </a>
                            </div>
                        </fieldset>
                    </div>
                    <div class="col-lg-7">
                        <fieldset v-if="add" class="animated fadeInRight">
                            <legend>样品中 <span v-text="selected2.name"></span> 浓度计算</legend>
                            <table class="table table-hover table-bordered table-striped">
                                <tr>
                                    <th class="text-center">样品编号</th>
                                    <th class="text-center">加样体积(ml)</th>
                                    <th v-if="selected2.name=='耗氧量'" class="text-center">K值</th>
                                    <th class="text-center">空白消耗标准液(ml)</th>
                                    <th class="text-center">样品消耗标准液(ml)</th>
                                    <th class="text-center">操作</th>
                                </tr>
                                <tr class="text-center">
                                    <td>
                                        <i>{{numbering+(new Date()).getFullYear()}}水第<span v-text="f_n(selected2.start,3)"></span>号</i>
                                    </td>
                                    <td>
                                        <select class="form-control" v-model="selected2.result.v">
                                            <option v-bind:value="opt" v-for="opt of vol_select" v-text="opt"></option>
                                        </select>
                                    </td>
                                    <td v-if="selected2.name=='耗氧量'">
                                        <input class="form-control animated bounceInRight" type="number" v-model="selected2.result.K">
                                    </td>
                                    <td>
                                        <input class="form-control animated bounceInRight" type="number" step="0.01"
                                            v-model="selected2.result.a0">
                                    </td>
                                    <td>
                                        <input class="form-control animated bounceInRight" type="number" tabindex="0"
                                            v-model.number="selected2.result.a1">
                                    </td>
                                    <td>
                                        <button class="btn form-control" tabindex="0" @click="work(selected2)">提交</button>
                                    </td>
                                </tr>
                            </table>
                        </fieldset>
                    </div>
                </div>
                <a class="btn text-danger" @click="printContent('print2')"><i class="fa fa-print"></i>打印记录</a>
                <div id="print2">
                    <div @click="date_y()" class="text-center" colspan="5">
                        <h1 v-text="company"></h1>
                        <h3 title="点击这里可以查看每个样品的检测日期"><i>水样中<span v-text="selected2.name"></span>检验记录</i></h3>
                    </div>
                    <table class="table table-bordered table-striped table-hover">
                        <tr>
                            <td class="text-center">样品名称：</td>
                            <td style="padding: 0px;">
                                <select style="border:0px; height: 2.4em; width: auto; outline:none; cursor: pointer;">
                                    <option value="井水">井水</option>
                                    <option value="泉水">泉水</option>
                                    <option value="河水">河水</option>
                                    <option value="溪水">溪水</option>
                                    <option value="自来水">自来水</option>
                                </select>
                            </td>
                            <td class="text-center">样品量：</td>
                            <td colspan="2" contenteditable="true">3升</td>
                        </tr>
                        <tr>
                            <td class="text-center">收样日期：</td>
                            <td contenteditable="true" v-text="recived_date"></td>
                            <td class="text-center">检验日期：</td>
                            <td colspan="2" contenteditable="true" v-text="test_date"></td>
                        </tr>
                        <tr>
                            <td class="text-center">样品性状：</td>
                            <td contenteditable="true">液态</td>
                            <td class="text-center">检测环境：</td>
                            <td contenteditable="true">
                                温度<span v-text="T"></span> ℃
                            </td>
                            <td contenteditable="true">
                                湿度
                                <span v-text="H"></span>% RH
                            </td>
                        </tr>
                        <tr>
                            <td class="text-center">检测仪器：</td>
                            <td v-text="selected2.instrument_model">
                            </td>
                            <td class="text-center">检验依据：</td>
                            <td colspan="2" v-text="selected2.GB">
                            </td>
                        </tr>
                        <tr>
                            <td class="text-center">检测方法：</td>
                            <td colspan="5" contenteditable="true" v-text="selected2.method"></td>
                        </tr>
                    </table>
                    <table @click="mystorages(selected2)" class="table table-bordered table-striped table-hover" id="record2">
                        <thead>
                            <tr>
                                <th class="text-center">样品编号</th>
                                <th class="text-center">加样量(ml)</th>
                                <th class="text-center">空白消耗量(ml)</th>
                                <th class="text-center">标准消耗量(ml)</th>
                                <th class="text-center">测定结果(mg/L)</th>
                                <th class="text-center">报告结果(mg/L)</th>
                                <th v-show="date_show" class="text-center">计量单位</th>
                                <th v-show="date_show" class="text-center">参考范围(mg/L)</th>
                                <th v-show="date_show" class="text-center">结果评价</th>
                                <th v-show="date_show" class="text-center">记录日期</th>
                            </tr>
                        </thead>
                        <tbody class="text-center">
                            <tr v-for="(item, index) in selected2.st" :key="index">
                                <td>{{numbering+(new Date()).getFullYear()}}水第<span v-text="f_n(item.id, 3)"></span>号</td>
                                <td v-text="item.v"></td>
                                <td v-text="item.a0"></td>
                                <td v-text="item.a1"></td>
                                <td v-text="item.c"></td>
                                <td v-if="item.c<selected2.limit" v-text="'<'+selected2.limit"></td>
                                <td v-else v-text="item.c"></td>
                                <td v-show="date_show" v-text="item.unit"></td>
                                <td v-show="date_show" v-text="item.range"></td>
                                <td v-show="date_show" v-text="item.assessment"></td>
                                <td v-show="date_show" v-text="item.date"></td>
                            </tr>
                        </tbody>
                    </table>
                    <br><br>
                    <div class="row text-center">
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">检验者：</div>
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">审核者：</div>
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">日期：
                            <span v-text="dateFormat(new Date())"></span>
                        </div>
                    </div>
                </div>
            </form>
            <form v-if="show3">
                <div class="row">
                    <div class="col-lg-5">
                        <fieldset>
                            <div>
                                <a class="btn btn-default" @click="add_sample(selected3)">
                                    <i class="fa fa-hand-o-right fa-2x"></i><i class="fa fa-pencil"></i>
                                    开始录入
                                    <i>样品编号{{numbering+(new Date()).getFullYear()}}水第
                                        <input v-if="selected3.judge" tabindex="-1" type="number" v-model="selected3.start">
                                        <input v-else tabindex="-1" type="number" v-model="selected3.end"> 号
                                    </i>
                                </a>
                            </div>
                        </fieldset>
                    </div>
                    <div class="col-lg-7">
                        <fieldset v-if="add" class="animated fadeInRight">
                            <legend>样品中 <span v-text="selected3.name"></span> 浓度计算</legend>
                            <table class="table table-hover table-bordered table-striped">
                                <tr>
                                    <th class="text-center">样品编号</th>
                                    <th class="text-center">结果</th>
                                    <th class="text-center">操作</th>
                                </tr>
                                <tr class="text-center">
                                    <td>
                                        <i>{{numbering+(new Date()).getFullYear()}}水第<span v-text="f_n(selected3.start,3)"></span>号</i>
                                    </td>
                                    <td>
                                        <input class="form-control animated bounceInRight" v-if="selected3.name=='酸碱度' || selected3.name=='色度' || selected3.name=='浑浊度'"
                                            type="number" tabindex="0" v-model.number="selected3.result.c">
                                        <input class="form-control animated bounceInRight" v-else type="text" tabindex="0"
                                            v-model="selected3.result.c">
                                    </td>
                                    <td>
                                        <button class="btn" @click="work(selected3)" tabindex="0">提交</button>
                                    </td>
                                </tr>
                            </table>
                        </fieldset>
                    </div>
                </div>
                <a class="btn text-danger" @click="printContent('print3')"><i class="fa fa-print"></i>打印记录</a>
                <div id="print3">
                    <div @click="date_y()" class="text-center" colspan="5">
                        <h1 v-text="company"></h1>
                        <h3 title="点击这里可以查看每个样品的检测日期"><i>水样中<span v-text="selected3.name"></span>检验记录</i></h3>
                    </div>
                    <table class="table table-bordered table-striped table-hover">
                        <tr>
                            <td class="text-center">样品名称：</td>
                            <td style="padding: 0px;">
                                <select style="border:0px; height: 2.4em; width: auto; outline:none; cursor: pointer;">
                                    <option value="井水">井水</option>
                                    <option value="泉水">泉水</option>
                                    <option value="河水">河水</option>
                                    <option value="溪水">溪水</option>
                                    <option value="自来水">自来水</option>
                                </select>
                            </td>
                            <td class="text-center">样品量：</td>
                            <td colspan="2" contenteditable="true">3升</td>
                        </tr>
                        <tr>
                            <td class="text-center">收样日期：</td>
                            <td contenteditable="true" v-text="recived_date"></td>
                            <td class="text-center">检验日期：</td>
                            <td colspan="2" contenteditable="true" v-text="test_date"></td>
                        </tr>
                        <tr>
                            <td class="text-center">样品性状：</td>
                            <td contenteditable="true">液态</td>
                            <td class="text-center">检测环境：</td>
                            <td contenteditable="true">
                                温度<span v-text="T"></span> ℃
                            </td>
                            <td contenteditable="true">
                                湿度
                                <span v-text="H"></span>% RH
                            </td>
                        </tr>
                        <tr>
                            <td class="text-center">检测仪器：</td>
                            <td v-text="selected3.instrument_model">
                            </td>
                            <td class="text-center">检验依据：</td>
                            <td colspan="2" v-text="selected3.GB">
                            </td>
                        </tr>
                        <tr>
                            <td class="text-center">检测方法：</td>
                            <td colspan="5" contenteditable="true" v-text="selected3.method"></td>
                        </tr>
                    </table>
                    <table @click="mystorages(selected3)" class="table table-bordered table-striped table-hover" id="record3">
                        <thead>
                            <tr>
                                <th class="text-center">样品编号</th>
                                <th v-show="date_show" class="text-center">计量单位</th>
                                <th v-show="date_show" class="text-center">参考范围(mg/L)</th>
                                <th class="text-center">报告结果(mg/L)</th>
                                <th v-show="date_show" class="text-center">结果评价</th>
                                <th v-show="date_show" class="text-center">记录日期</th>
                            </tr>
                        </thead>
                        <tbody class="text-center">
                            <tr v-for="(item, index) in selected3.st" :key="index">
                                <td>{{numbering+(new Date()).getFullYear()}}水第<span v-text="f_n(item.id, 3)"></span>号</td>
                                <td v-show="date_show" v-text="item.unit"></td>
                                <td v-show="date_show" v-text="item.range"></td>
                                <td v-text="item.c"></td>
                                <td v-show="date_show" v-text="item.assessment"></td>
                                <td v-show="date_show" v-text="item.date"></td>
                            </tr>
                        </tbody>
                    </table>
                    <br><br>
                    <div class="row text-center">
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">检验者：</div>
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">审核者：</div>
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">日期：
                            <span v-text="dateFormat(new Date())"></span>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <br>
    <br>
    <br>
    <script src="js/index.js"></script>
    <footer class="footer">
        <div>使用过程中有任何疑问或想法，欢迎在我的
            <a href="img/myWX.jpg"><i class="fa fa-comments"></i></a>或者<i class="fa fa-qq">478174277</i>
            留言
        </div>
    </footer>
    <link rel="stylesheet" href="css/css/index.css">
</body>
</html>